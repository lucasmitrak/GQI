First, partition the hard drive yourself. The GQI does not do partitioning at all. BIOS can be used with one partition(even with encryption! Check the default/grub in files). If you are using UEFI, create a dedicated partition for it, create its vfat file system, and set its file system in "uefi_fs". After you partition, set the config to match whether it is bios or uefi, the final OS file system in "fs", the options for the stage3, kernel config, kernel config fragment, and the other options like the hardware names for networking and whether you want a desktop. The information here must match all that present in filer(and its final "files") and kfragmenter!
After the config.sh is configured, run the copy.sh script. There is no installer.sh since this is the actual installer scripts so they just need to be copied to the final "finished" directory.
Each installer script, which runs sequentially, has a pre_ and post_ hook which checks for the hook's existence and executability, and if it exists, it executes it. For example, in stage3.sh the pre_ and post_ hooks look like "[ -x pre_stage3.sh ] && ./pre_stage3.sh" and "[ -x post_stage3.sh ] && ./post_stage3.sh". The filer uses pre_setup.sh for lvm and crypt features. The filer also uses post_setup.sh for all the other features. The user can create their own and mess with the pre-generated ones, just make sure to enable the executable bit on each script!
